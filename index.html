<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文章发布平台</title>
    <!-- Tailwind CSS v3 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 统一的 Tailwind 配置 -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#64748b',
                        success: '#10b981',
                        danger: '#ef4444',
                        warning: '#f59e0b',
                        info: '#06b6d4',
                        light: '#f8fafc',
                        dark: '#1e293b',
                        'primary-light': '#dbeafe',
                        'primary-dark': '#2563eb',
                        'gray-light': '#f1f5f9',
                        'gray-medium': '#cbd5e1',
                        'gray-dark': '#475569'
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                        mono: ['Consolas', 'Monaco', 'monospace']
                    },
                    boxShadow: {
                        'inner-lg': 'inset 0 2px 10px 0 rgba(0, 0, 0, 0.1)',
                        'card': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)'
                    }
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .content-auto {
                content-visibility: auto;
            }
            .transition-all-300 {
                transition: all 0.3s ease;
            }
            .editor-height {
                height: calc(100vh - 12rem);
            }
            .sidebar-width {
                width: 240px;
            }
            .editor-width {
                width: calc(100% - 240px);
            }
            .toolbar-btn {
                @apply p-2 text-gray-600 hover:text-primary hover:bg-primary-light rounded transition-all-300;
            }
            .toolbar-btn.active {
                @apply text-primary bg-primary-light;
            }
            .toolbar-btn:disabled {
                @apply text-gray-300 cursor-not-allowed;
            }
            .modal-backdrop {
                @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
            }
            .modal-content {
                @apply bg-white rounded-lg shadow-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-auto;
            }
            .tag-item {
                @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium mr-2 mb-2;
            }
            .tag-item-default {
                @apply bg-gray-100 text-gray-800 hover:bg-gray-200;
            }
            .tag-item-primary {
                @apply bg-primary-light text-primary hover:bg-blue-200;
            }
            .article-card {
                @apply bg-white rounded-lg shadow-card p-4 hover:shadow-card-hover transition-all-300 cursor-pointer;
            }
            .article-card-active {
                @apply border-l-4 border-primary;
            }
        }
    </style>
</head>
<body class="bg-gray-light text-gray-900 font-sans antialiased">
    <!-- 顶部导航栏 -->
    <header class="bg-white shadow-sm border-b border-gray-200">
        <div class="container mx-auto px-4 py-3 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <div class="flex items-center space-x-2">
                    <i class="fa fa-file-text-o text-primary text-2xl"></i>
                    <h1 class="text-xl font-bold text-gray-800">文章发布平台</h1>
                </div>
                <div class="hidden md:flex items-center space-x-1">
                    <button class="px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200 flex items-center">
                        <i class="fa fa-home mr-1.5"></i>首页
                    </button>
                    <button class="px-3 py-1.5 text-sm font-medium text-primary bg-primary-light rounded-md transition-colors duration-200 flex items-center">
                        <i class="fa fa-edit mr-1.5"></i>编辑器
                    </button>
                    <button class="px-3 py-1.5 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200 flex items-center">
                        <i class="fa fa-bar-chart mr-1.5"></i>统计
                    </button>
                </div>
            </div>
            <div class="flex items-center space-x-3">
                <button id="searchBtn" class="p-1.5 text-gray-700 hover:bg-gray-100 rounded-full transition-colors duration-200">
                    <i class="fa fa-search"></i>
                </button>
                <button id="notificationBtn" class="p-1.5 text-gray-700 hover:bg-gray-100 rounded-full transition-colors duration-200 relative">
                    <i class="fa fa-bell"></i>
                    <span class="absolute top-0 right-0 w-2 h-2 bg-danger rounded-full"></span>
                </button>
                <div class="relative">
                    <button id="userMenuBtn" class="flex items-center space-x-2 focus:outline-none">
                        <div class="w-8 h-8 rounded-full bg-primary text-white flex items-center justify-center">
                            <span class="font-medium">JD</span>
                        </div>
                        <span class="hidden md:inline-block text-sm font-medium text-gray-700">John Doe</span>
                        <i class="fa fa-chevron-down text-xs text-gray-500"></i>
                    </button>
                    <div id="userMenu" class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 hidden z-10">
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            <i class="fa fa-user mr-2"></i>个人资料
                        </a>
                        <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                            <i class="fa fa-cog mr-2"></i>设置
                        </a>
                        <div class="border-t border-gray-100"></div>
                        <a href="#" class="block px-4 py-2 text-sm text-danger hover:bg-gray-100">
                            <i class="fa fa-sign-out mr-2"></i>退出登录
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- 主要内容区域 -->
    <main class="container mx-auto px-4 py-6 flex">
        <!-- 左侧文章列表 -->
        <aside id="sidebar" class="sidebar-width mr-6">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 mb-4">
                <div class="p-4 border-b border-gray-200 flex items-center justify-between">
                    <h2 class="font-medium text-gray-800">我的文章</h2>
                    <button id="newArticleBtn" class="p-1.5 text-primary hover:bg-primary-light rounded-full transition-colors duration-200">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
                <div class="p-2">
                    <div class="relative mb-3">
                        <input type="text" placeholder="搜索文章..." class="w-full pl-8 pr-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <i class="fa fa-search absolute left-3 top-2.5 text-gray-400"></i>
                    </div>
                    <div class="flex mb-3 space-x-2">
                        <button class="flex-1 py-1.5 text-xs font-medium text-primary bg-primary-light rounded-md transition-colors duration-200">
                            全部
                        </button>
                        <button class="flex-1 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200">
                            已发布
                        </button>
                        <button class="flex-1 py-1.5 text-xs font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors duration-200">
                            草稿
                        </button>
                    </div>
                </div>
                <div class="overflow-y-auto max-h-[calc(100vh-220px)]">
                    <div id="articlesList" class="divide-y divide-gray-100">
                        <!-- 文章列表将通过JavaScript动态生成 -->
                    </div>
                </div>
            </div>
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <div class="p-4 border-b border-gray-200">
                    <h2 class="font-medium text-gray-800">分类</h2>
                </div>
                <div class="p-4">
                    <ul class="space-y-2">
                        <li>
                            <a href="#" class="flex items-center justify-between text-sm text-primary font-medium">
                                <span>全部文章</span>
                                <span class="bg-primary-light text-primary text-xs px-2 py-0.5 rounded-full">24</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center justify-between text-sm text-gray-700 hover:text-primary">
                                <span>技术分享</span>
                                <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">12</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center justify-between text-sm text-gray-700 hover:text-primary">
                                <span>产品设计</span>
                                <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">8</span>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="flex items-center justify-between text-sm text-gray-700 hover:text-primary">
                                <span>行业动态</span>
                                <span class="bg-gray-100 text-gray-600 text-xs px-2 py-0.5 rounded-full">4</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </aside>

        <!-- 右侧编辑区域 -->
        <section id="editorSection" class="editor-width">
            <!-- 文章编辑区域 -->
            <div id="articleEditor" class="bg-white rounded-lg shadow-sm border border-gray-200 mb-4">
                <div class="p-4 border-b border-gray-200">
                    <input type="text" id="articleTitle" class="w-full text-2xl font-bold text-gray-800 border-0 focus:ring-0 outline-none" placeholder="文章标题...">
                </div>
                <div class="p-4 border-b border-gray-200 flex items-center justify-between">
                    <div class="flex items-center space-x-2">
                        <span class="text-sm text-gray-500">发布于：</span>
                        <span id="publishDate" class="text-sm text-gray-700">2025-07-21</span>
                        <span class="text-sm text-gray-500">·</span>
                        <span id="wordCount" class="text-sm text-gray-700">0 字</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <select id="articleCategory" class="text-sm border border-gray-300 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="">选择分类</option>
                            <option value="tech">技术分享</option>
                            <option value="design">产品设计</option>
                            <option value="news">行业动态</option>
                        </select>
                    </div>
                </div>
                
                <!-- 编辑器工具栏 -->
                <div id="editorToolbar" class="p-2 border-b border-gray-200 flex items-center flex-wrap gap-1">
                    <button class="toolbar-btn" title="粗体" data-command="bold">
                        <i class="fa fa-bold"></i>
                    </button>
                    <button class="toolbar-btn" title="斜体" data-command="italic">
                        <i class="fa fa-italic"></i>
                    </button>
                    <button class="toolbar-btn" title="下划线" data-command="underline">
                        <i class="fa fa-underline"></i>
                    </button>
                    <button class="toolbar-btn" title="删除线" data-command="strikeThrough">
                        <i class="fa fa-strikethrough"></i>
                    </button>
                    <div class="h-5 border-r border-gray-300 mx-1"></div>
                    <button class="toolbar-btn" title="标题 1" data-command="formatBlock" data-value="h1">
                        <i class="fa fa-header"></i><sub>1</sub>
                    </button>
                    <button class="toolbar-btn" title="标题 2" data-command="formatBlock" data-value="h2">
                        <i class="fa fa-header"></i><sub>2</sub>
                    </button>
                    <button class="toolbar-btn" title="标题 3" data-command="formatBlock" data-value="h3">
                        <i class="fa fa-header"></i><sub>3</sub>
                    </button>
                    <div class="h-5 border-r border-gray-300 mx-1"></div>
                    <button class="toolbar-btn" title="无序列表" data-command="insertUnorderedList">
                        <i class="fa fa-list-ul"></i>
                    </button>
                    <button class="toolbar-btn" title="有序列表" data-command="insertOrderedList">
                        <i class="fa fa-list-ol"></i>
                    </button>
                    <button class="toolbar-btn" title="减少缩进" data-command="outdent">
                        <i class="fa fa-outdent"></i>
                    </button>
                    <button class="toolbar-btn" title="增加缩进" data-command="indent">
                        <i class="fa fa-indent"></i>
                    </button>
                    <div class="h-5 border-r border-gray-300 mx-1"></div>
                    <button class="toolbar-btn" title="左对齐" data-command="justifyLeft">
                        <i class="fa fa-align-left"></i>
                    </button>
                    <button class="toolbar-btn" title="居中对齐" data-command="justifyCenter">
                        <i class="fa fa-align-center"></i>
                    </button>
                    <button class="toolbar-btn" title="右对齐" data-command="justifyRight">
                        <i class="fa fa-align-right"></i>
                    </button>
                    <div class="h-5 border-r border-gray-300 mx-1"></div>
                    <button id="insertLinkBtn" class="toolbar-btn" title="插入链接">
                        <i class="fa fa-link"></i>
                    </button>
                    <button id="insertImageBtn" class="toolbar-btn" title="插入图片">
                        <i class="fa fa-image"></i>
                    </button>
                    <button id="insertCodeBtn" class="toolbar-btn" title="插入代码">
                        <i class="fa fa-code"></i>
                    </button>
                    <div class="h-5 border-r border-gray-300 mx-1"></div>
                    <button id="clearFormatBtn" class="toolbar-btn" title="清除格式">
                        <i class="fa fa-eraser"></i>
                    </button>
                    <button id="viewSourceBtn" class="toolbar-btn" title="查看源码">
                        <i class="fa fa-file-code-o"></i>
                    </button>
                </div>
                
                <!-- 编辑器内容区域 -->
                <div class="relative">
                    <div id="editorContent" class="p-4 min-h-[500px] focus:outline-none" contenteditable="true"></div>
                    <textarea id="sourceEditor" class="absolute inset-0 w-full h-full p-4 font-mono text-sm bg-gray-50 border-0 focus:ring-0 resize-none outline-none hidden"></textarea>
                </div>
            </div>
            
            <!-- 文章标签和操作区域 -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
                <div class="flex flex-col md:flex-row md:items-center justify-between">
                    <div class="mb-4 md:mb-0">
                        <label class="block text-sm font-medium text-gray-700 mb-2">标签</label>
                        <div id="tagsContainer" class="flex flex-wrap">
                            <div id="tagInputContainer" class="inline-flex items-center border border-gray-300 rounded-full px-3 py-1">
                                <input type="text" id="tagInput" class="text-sm border-0 focus:ring-0 outline-none w-20" placeholder="添加标签...">
                                <button id="addTagBtn" class="ml-1 text-gray-500 hover:text-primary">
                                    <i class="fa fa-plus-circle"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-3">
                        <button id="saveDraftBtn" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200 flex items-center">
                            <i class="fa fa-save mr-1.5"></i>保存草稿
                        </button>
                        <button id="previewBtn" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200 flex items-center">
                            <i class="fa fa-eye mr-1.5"></i>预览
                        </button>
                        <button id="publishBtn" class="px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-blue-600 rounded-md transition-colors duration-200 flex items-center">
                            <i class="fa fa-paper-plane mr-1.5"></i>发布
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- 预览区域 -->
        <section id="previewSection" class="editor-width hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <div class="p-4 border-b border-gray-200 flex items-center justify-between">
                    <h2 class="font-medium text-gray-800 flex items-center">
                        <i class="fa fa-eye text-primary mr-2"></i>
                        文章预览
                    </h2>
                    <button id="backToEditorBtn" class="px-3 py-1.5 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200 flex items-center">
                        <i class="fa fa-arrow-left mr-1.5"></i>返回编辑
                    </button>
                </div>
                <div id="previewContent" class="p-8 prose max-w-none">
                    <!-- 预览内容将通过JavaScript动态生成 -->
                </div>
            </div>
        </section>
    </main>

    <!-- 模态框 -->
    <!-- 插入链接模态框 -->
    <div id="linkModal" class="modal-backdrop hidden">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-gray-800">插入链接</h3>
                <button class="modal-close-btn text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">文本</label>
                    <input type="text" id="linkText" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="链接显示文本">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">URL</label>
                    <input type="url" id="linkUrl" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="https://example.com">
                </div>
                <div class="flex items-center">
                    <input type="checkbox" id="linkNewTab" class="w-4 h-4 text-primary focus:ring-primary border-gray-300 rounded">
                    <label for="linkNewTab" class="ml-2 text-sm text-gray-700">在新标签页中打开</label>
                </div>
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button class="modal-close-btn px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200">
                    取消
                </button>
                <button id="insertLinkConfirmBtn" class="px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-blue-600 rounded-md transition-colors duration-200">
                    插入
                </button>
            </div>
        </div>
    </div>

    <!-- 插入图片模态框 -->
    <div id="imageModal" class="modal-backdrop hidden">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-gray-800">插入图片</h3>
                <button class="modal-close-btn text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">图片URL</label>
                    <input type="url" id="imageUrl" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="https://example.com/image.jpg">
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">替代文本</label>
                    <input type="text" id="imageAlt" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent" placeholder="图片描述">
                </div>
                <div class="border-2 border-dashed border-gray-300 rounded-md p-4 text-center">
                    <i class="fa fa-cloud-upload text-3xl text-gray-400 mb-2"></i>
                    <p class="text-sm text-gray-600 mb-2">或者拖放图片到此处</p>
                    <label class="px-3 py-1.5 text-sm font-medium text-white bg-primary hover:bg-blue-600 rounded-md transition-colors duration-200 cursor-pointer">
                        选择图片
                        <input type="file" id="imageUpload" accept="image/*" class="hidden">
                    </label>
                </div>
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button class="modal-close-btn px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200">
                    取消
                </button>
                <button id="insertImageConfirmBtn" class="px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-blue-600 rounded-md transition-colors duration-200">
                    插入
                </button>
            </div>
        </div>
    </div>

    <!-- 插入代码模态框 -->
    <div id="codeModal" class="modal-backdrop hidden">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-gray-800">插入代码</h3>
                <button class="modal-close-btn text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">代码语言</label>
                    <select id="codeLanguage" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent">
                        <option value="plaintext">纯文本</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="java">Java</option>
                        <option value="csharp">C#</option>
                        <option value="php">PHP</option>
                    </select>
                </div>
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-1">代码</label>
                    <textarea id="codeContent" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent font-mono text-sm h-40" placeholder="在此输入代码..."></textarea>
                </div>
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button class="modal-close-btn px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200">
                    取消
                </button>
                <button id="insertCodeConfirmBtn" class="px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-blue-600 rounded-md transition-colors duration-200">
                    插入
                </button>
            </div>
        </div>
    </div>

    <!-- 发布确认模态框 -->
    <div id="publishConfirmModal" class="modal-backdrop hidden">
        <div class="modal-content p-6">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-gray-800">确认发布</h3>
                <button class="modal-close-btn text-gray-500 hover:text-gray-700">
                    <i class="fa fa-times"></i>
                </button>
            </div>
            <div class="space-y-4">
                <p class="text-gray-700">您确定要发布这篇文章吗？发布后将对所有用户可见。</p>
                <div class="bg-yellow-50 border-l-4 border-yellow-400 p-4">
                    <div class="flex">
                        <div class="flex-shrink-0">
                            <i class="fa fa-exclamation-triangle text-yellow-400"></i>
                        </div>
                        <div class="ml-3">
                            <p class="text-sm text-yellow-700">
                                请确保您的文章内容符合社区规范，发布后仍可编辑但会保留修改历史。
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="mt-6 flex justify-end space-x-3">
                <button class="modal-close-btn px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors duration-200">
                    取消
                </button>
                <button id="publishConfirmBtn" class="px-4 py-2 text-sm font-medium text-white bg-primary hover:bg-blue-600 rounded-md transition-colors duration-200">
                    确认发布
                </button>
            </div>
        </div>
    </div>

    <!-- 发布成功提示 -->
    <div id="publishSuccessToast" class="fixed bottom-4 right-4 bg-success text-white px-4 py-3 rounded-md shadow-lg flex items-center hidden">
        <i class="fa fa-check-circle mr-2"></i>
        <span>文章发布成功！</span>
    </div>

    <script>
        // 示例文章数据
        const sampleArticles = [
            {
                id: 1,
                title: "如何使用现代CSS框架构建响应式网站",
                content: "<h2>介绍</h2><p>在当今的数字时代，拥有一个响应式网站已经成为必备条件。本文将介绍如何使用现代CSS框架快速构建美观且功能强大的响应式网站。</p><h2>选择合适的框架</h2><p>市场上有许多优秀的CSS框架可供选择，如Bootstrap、Tailwind CSS、Bulma等。每种框架都有其独特的优势和适用场景。</p><h3>Tailwind CSS的优势</h3><p>Tailwind CSS是一个实用优先的CSS框架，它提供了大量的类名来帮助你快速构建界面，而不需要编写传统的CSS。</p><pre><code class=\"language-html\">&lt;div class=\"bg-blue-500 text-white p-4 rounded-lg shadow-lg\"&gt;\n  这是一个使用Tailwind CSS样式的div\n&lt;/div&gt;</code></pre><p>通过这种方式，你可以直接在HTML中应用样式，而不需要在单独的CSS文件中定义类。</p>",
                category: "tech",
                tags: ["CSS", "响应式设计", "前端开发"],
                status: "published",
                publishDate: "2025-07-15",
                lastModified: "2025-07-15",
                wordCount: 856
            },
            {
                id: 2,
                title: "产品设计中的用户体验原则",
                content: "<h2>用户体验的重要性</h2><p>优秀的用户体验是产品成功的关键因素之一。一个好的产品不仅要功能完善，还要让用户能够轻松愉快地使用。</p><h2>核心设计原则</h2><p>在产品设计中，有几个核心原则可以帮助提升用户体验：</p><ul><li><strong>简洁性</strong>：保持界面简洁，避免不必要的元素和复杂的操作流程。</li><li><strong>一致性</strong>：在整个产品中保持一致的设计语言和交互模式。</li><li><strong>反馈</strong>：为用户的每一个操作提供及时的反馈。</li><li><strong>容错性</strong>：允许用户犯错，并提供简单的方式来纠正错误。</li></ul><p>遵循这些原则，可以帮助你设计出更加用户友好的产品。</p>",
                category: "design",
                tags: ["产品设计", "用户体验", "UX"],
                status: "published",
                publishDate: "2025-07-10",
                lastModified: "2025-07-12",
                wordCount: 623
            },
            {
                id: 3,
                title: "人工智能在内容创作中的应用",
                content: "<h2>引言</h2><p>随着人工智能技术的快速发展，它已经开始在各个领域产生深远的影响，内容创作也不例外。</p><h2>AI辅助写作工具</h2><p>现在有许多AI辅助写作工具可以帮助内容创作者提高效率，如Grammarly、GPT-3等。这些工具可以帮助检查语法错误、提供写作建议，甚至生成内容大纲。</p><h2>未来展望</h2><p>虽然AI在内容创作方面已经取得了很大的进步，但它仍然无法完全替代人类的创造力和独特视角。未来，AI更可能是作为人类创作者的辅助工具，帮助他们提高效率和质量。</p>",
                category: "news",
                tags: ["人工智能", "内容创作", "技术趋势"],
                status: "draft",
                publishDate: null,
                lastModified: "2025-07-18",
                wordCount: 432
            },
            {
                id: 4,
                title: "JavaScript异步编程指南",
                content: "<h2>异步编程的概念</h2><p>JavaScript是一门单线程语言，但通过异步编程，我们可以处理那些可能会阻塞主线程的操作，如网络请求、文件读写等。</p><h2>异步编程的几种方式</h2><h3>回调函数</h3><pre><code class=\"language-javascript\">function fetchData(callback) {\n  setTimeout(() => {\n    const data = { name: 'John', age: 30 };\n    callback(data);\n  }, 1000);\n}\n\nfetchData((data) => {\n  console.log(data);\n});</code></pre><h3>Promise</h3><pre><code class=\"language-javascript\">function fetchData() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const data = { name: 'John', age: 30 };\n      resolve(data);\n    }, 1000);\n  });\n}\n\nfetchData()\n  .then(data => console.log(data))\n  .catch(error => console.error(error));</code></pre><h3>async/await</h3><pre><code class=\"language-javascript\">async function fetchData() {\n  return new Promise((resolve) => {\n    setTimeout(() => {\n      const data = { name: 'John', age: 30 };\n      resolve(data);\n    }, 1000);\n  });\n}\n\nasync function main() {\n  try {\n    const data = await fetchData();\n    console.log(data);\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nmain();</code></pre><p>通过掌握这些异步编程方式，你可以编写出更加高效和易于维护的JavaScript代码。</p>",
                category: "tech",
                tags: ["JavaScript", "异步编程", "前端开发"],
                status: "published",
                publishDate: "2025-07-05",
                lastModified: "2025-07-05",
                wordCount: 987
            }
        ];

        // 全局变量
        let currentArticle = null;
        let isSourceMode = false;
        let articles = [...sampleArticles];
        let nextArticleId = Math.max(...articles.map(a => a.id)) + 1;

        // DOM元素
        const articlesList = document.getElementById('articlesList');
        const articleTitle = document.getElementById('articleTitle');
        const editorContent = document.getElementById('editorContent');
        const sourceEditor = document.getElementById('sourceEditor');
        const publishDate = document.getElementById('publishDate');
        const wordCount = document.getElementById('wordCount');
        const articleCategory = document.getElementById('articleCategory');
        const tagInput = document.getElementById('tagInput');
        const tagsContainer = document.getElementById('tagsContainer');
        const editorSection = document.getElementById('editorSection');
        const previewSection = document.getElementById('previewSection');
        const previewContent = document.getElementById('previewContent');
        const userMenuBtn = document.getElementById('userMenuBtn');
        const userMenu = document.getElementById('userMenu');
        const newArticleBtn = document.getElementById('newArticleBtn');
        const saveDraftBtn = document.getElementById('saveDraftBtn');
        const previewBtn = document.getElementById('previewBtn');
        const publishBtn = document.getElementById('publishBtn');
        const backToEditorBtn = document.getElementById('backToEditorBtn');
        const insertLinkBtn = document.getElementById('insertLinkBtn');
        const insertImageBtn = document.getElementById('insertImageBtn');
        const insertCodeBtn = document.getElementById('insertCodeBtn');
        const clearFormatBtn = document.getElementById('clearFormatBtn');
        const viewSourceBtn = document.getElementById('viewSourceBtn');
        const linkModal = document.getElementById('linkModal');
        const imageModal = document.getElementById('imageModal');
        const codeModal = document.getElementById('codeModal');
        const publishConfirmModal = document.getElementById('publishConfirmModal');
        const publishSuccessToast = document.getElementById('publishSuccessToast');
        const modalCloseBtns = document.querySelectorAll('.modal-close-btn');

        // 初始化
        function init() {
            // 加载文章列表
            renderArticlesList();
            
            // 如果有文章，加载第一篇
            if (articles.length > 0) {
                loadArticle(articles[0].id);
            } else {
                createNewArticle();
            }
            
            // 事件监听
            userMenuBtn.addEventListener('click', toggleUserMenu);
            newArticleBtn.addEventListener('click', createNewArticle);
            saveDraftBtn.addEventListener('click', saveDraft);
            previewBtn.addEventListener('click', togglePreview);
            publishBtn.addEventListener('click', showPublishConfirm);
            backToEditorBtn.addEventListener('click', togglePreview);
            insertLinkBtn.addEventListener('click', () => openModal(linkModal));
            insertImageBtn.addEventListener('click', () => openModal(imageModal));
            insertCodeBtn.addEventListener('click', () => openModal(codeModal));
            clearFormatBtn.addEventListener('click', clearFormat);
            viewSourceBtn.addEventListener('click', toggleSourceMode);
            document.getElementById('insertLinkConfirmBtn').addEventListener('click', insertLink);
            document.getElementById('insertImageConfirmBtn').addEventListener('click', insertImage);
            document.getElementById('insertCodeConfirmBtn').addEventListener('click', insertCode);
            document.getElementById('publishConfirmBtn').addEventListener('click', publishArticle);
            tagInput.addEventListener('keydown', handleTagInput);
            document.getElementById('addTagBtn').addEventListener('click', addTag);
            articleTitle.addEventListener('input', updateWordCount);
            editorContent.addEventListener('input', updateWordCount);
            sourceEditor.addEventListener('input', updateWordCount);
            
            // 工具栏按钮事件
            document.querySelectorAll('#editorToolbar button[data-command]').forEach(btn => {
                btn.addEventListener('click', () => {
                    const command = btn.dataset.command;
                    const value = btn.dataset.value;
                    document.execCommand(command, false, value);
                    editorContent.focus();
                });
            });
            
            // 模态框关闭按钮事件
            modalCloseBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    closeAllModals();
                });
            });
            
            // 点击模态框背景关闭模态框
            document.querySelectorAll('.modal-backdrop').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        closeAllModals();
                    }
                });
            });
            
            // 点击页面其他地方关闭用户菜单
            document.addEventListener('click', (e) => {
                if (!userMenuBtn.contains(e.target) && !userMenu.contains(e.target)) {
                    userMenu.classList.add('hidden');
                }
            });
            
            // 阻止编辑器中的拖拽默认行为
            editorContent.addEventListener('dragover', (e) => {
                e.preventDefault();
            });
            
            editorContent.addEventListener('drop', (e) => {
                e.preventDefault();
                const files = e.dataTransfer.files;
                if (files.length > 0 && files[0].type.startsWith('image/')) {
                    // 这里应该上传图片，然后插入图片URL
                    // 为了演示，我们直接显示一个提示
                    alert('图片上传功能在演示版中不可用，请使用图片URL插入图片。');
                }
            });
            
            // 更新日期
            const now = new Date();
            publishDate.textContent = formatDate(now);
        }

        // 渲染文章列表
        function renderArticlesList() {
            articlesList.innerHTML = '';
            
            if (articles.length === 0) {
                articlesList.innerHTML = '<div class="p-4 text-center text-gray-500">暂无文章，点击右上角"+"按钮创建新文章</div>';
                return;
            }
            
            articles.forEach(article => {
                const articleItem = document.createElement('div');
                articleItem.className = `p-3 hover:bg-gray-50 transition-colors duration-200 ${currentArticle && currentArticle.id === article.id ? 'article-card-active' : ''}`;
                articleItem.dataset.articleId = article.id;
                
                articleItem.innerHTML = `
                    <div class="flex items-start">
                        <div class="flex-1 min-w-0">
                            <h3 class="text-sm font-medium text-gray-800 truncate" title="${article.title}">${article.title}</h3>
                            <div class="flex items-center mt-1 space-x-2">
                                <span class="text-xs text-gray-500">${article.status === 'published' ? '已发布' : '草稿'}</span>
                                <span class="text-xs text-gray-500">·</span>
                                <span class="text-xs text-gray-500">${article.lastModified}</span>
                                <span class="text-xs text-gray-500">·</span>
                                <span class="text-xs text-gray-500">${article.wordCount} 字</span>
                            </div>
                        </div>
                        <div class="flex items-center ml-2 space-x-1">
                            <button class="p-1 text-gray-500 hover:text-primary" title="编辑">
                                <i class="fa fa-pencil"></i>
                            </button>
                            <button class="p-1 text-gray-500 hover:text-danger delete-article-btn" title="删除">
                                <i class="fa fa-trash"></i>
                            </button>
                        </div>
                    </div>
                `;
                
                // 点击加载文章
                articleItem.addEventListener('click', (e) => {
                    // 如果点击的是删除按钮，不加载文章
                    if (e.target.closest('.delete-article-btn')) {
                        return;
                    }
                    loadArticle(article.id);
                });
                
                // 删除文章
                const deleteBtn = articleItem.querySelector('.delete-article-btn');
                deleteBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    deleteArticle(article.id);
                });
                
                articlesList.appendChild(articleItem);
            });
        }

        // 加载文章
        function loadArticle(id) {
            const article = articles.find(a => a.id === id);
            if (!article) return;
            
            currentArticle = article;
            
            // 更新编辑器内容
            articleTitle.value = article.title;
            editorContent.innerHTML = article.content;
            sourceEditor.value = article.content;
            articleCategory.value = article.category || '';
            
            // 更新标签
            renderTags(article.tags || []);
            
            // 更新日期和字数
            publishDate.textContent = article.publishDate || formatDate(new Date());
            updateWordCount();
            
            // 更新文章列表选中状态
            document.querySelectorAll('#articlesList > div').forEach(item => {
                item.classList.toggle('article-card-active', parseInt(item.dataset.articleId) === id);
            });
            
            // 确保编辑器可见
            editorSection.classList.remove('hidden');
            previewSection.classList.add('hidden');
            
            // 确保不是源码模式
            if (isSourceMode) {
                toggleSourceMode();
            }
        }

        // 创建新文章
        function createNewArticle() {
            const newArticle = {
                id: nextArticleId++,
                title: '未命名文章',
                content: '',
                category: '',
                tags: [],
                status: 'draft',
                publishDate: null,
                lastModified: formatDate(new Date()),
                wordCount: 0
            };
            
            articles.unshift(newArticle);
            renderArticlesList();
            loadArticle(newArticle.id);
            
            // 聚焦标题输入框
            articleTitle.focus();
            articleTitle.select();
        }

        // 保存草稿
        function saveDraft() {
            if (!currentArticle) return;
            
            // 更新文章内容
            currentArticle.title = articleTitle.value || '未命名文章';
            currentArticle.content = isSourceMode ? sourceEditor.value : editorContent.innerHTML;
            currentArticle.category = articleCategory.value;
            currentArticle.tags = getTags();
            currentArticle.lastModified = formatDate(new Date());
            currentArticle.wordCount = countWords(currentArticle.content);
            
            // 更新文章列表
            renderArticlesList();
            
            // 显示保存成功提示
            showToast('草稿保存成功');
        }

        // 切换预览
        function togglePreview() {
            if (editorSection.classList.contains('hidden')) {
                // 返回编辑
                editorSection.classList.remove('hidden');
                previewSection.classList.add('hidden');
            } else {
                // 进入预览
                // 先保存当前内容
                if (currentArticle) {
                    currentArticle.title = articleTitle.value || '未命名文章';
                    currentArticle.content = isSourceMode ? sourceEditor.value : editorContent.innerHTML;
                }
                
                // 更新预览内容
                previewContent.innerHTML = `
                    <h1>${articleTitle.value || '未命名文章'}</h1>
                    <div class="text-sm text-gray-500 mb-6">
                        <span>${publishDate.textContent}</span>
                        ${articleCategory.value ? `<span class="mx-2">·</span><span>${getCategoryName(articleCategory.value)}</span>` : ''}
                        <span class="mx-2">·</span>
                        <span>${wordCount.textContent}</span>
                    </div>
                    ${getTags().length > 0 ? `
                        <div class="mb-6">
                            ${getTags().map(tag => `<span class="tag-item tag-item-default">${tag}</span>`).join('')}
                        </div>
                    ` : ''}
                    <div class="prose max-w-none">
                        ${isSourceMode ? sourceEditor.value : editorContent.innerHTML}
                    </div>
                `;
                
                // 切换显示
                editorSection.classList.add('hidden');
                previewSection.classList.remove('hidden');
            }
        }

        // 显示发布确认
        function showPublishConfirm() {
            if (!currentArticle) return;
            
            // 检查是否有标题
            if (!articleTitle.value.trim()) {
                alert('请输入文章标题');
                articleTitle.focus();
                return;
            }
            
            // 检查是否有内容
            const content = isSourceMode ? sourceEditor.value : editorContent.innerHTML;
            if (!content.trim()) {
                alert('请输入文章内容');
                editorContent.focus();
                return;
            }
            
            // 显示确认模态框
            openModal(publishConfirmModal);
        }

        // 发布文章
        function publishArticle() {
            if (!currentArticle) return;
            
            // 更新文章状态
            currentArticle.title = articleTitle.value;
            currentArticle.content = isSourceMode ? sourceEditor.value : editorContent.innerHTML;
            currentArticle.category = articleCategory.value;
            currentArticle.tags = getTags();
            currentArticle.status = 'published';
            currentArticle.publishDate = formatDate(new Date());
            currentArticle.lastModified = currentArticle.publishDate;
            currentArticle.wordCount = countWords(currentArticle.content);
            
            // 更新文章列表
            renderArticlesList();
            
            // 关闭模态框
            closeAllModals();
            
            // 显示发布成功提示
            showToast('文章发布成功！');
            
            // 显示发布成功提示框
            publishSuccessToast.classList.remove('hidden');
            setTimeout(() => {
                publishSuccessToast.classList.add('hidden');
            }, 3000);
        }

        // 删除文章
        function deleteArticle(id) {
            if (!confirm('确定要删除这篇文章吗？此操作不可撤销。')) {
                return;
            }
            
            const index = articles.findIndex(a => a.id === id);
            if (index !== -1) {
                articles.splice(index, 1);
                renderArticlesList();
                
                // 如果删除的是当前文章，加载另一篇文章或创建新文章
                if (currentArticle && currentArticle.id === id) {
                    if (articles.length > 0) {
                        loadArticle(articles[0].id);
                    } else {
                        createNewArticle();
                    }
                }
            }
        }

        // 插入链接
        function insertLink() {
            const linkText = document.getElementById('linkText').value;
            const linkUrl = document.getElementById('linkUrl').value;
            const linkNewTab = document.getElementById('linkNewTab').checked;
            
            if (!linkUrl) {
                alert('请输入链接URL');
                return;
            }
            
            const text = linkText || linkUrl;
            const html = `<a href="${linkUrl}" ${linkNewTab ? 'target="_blank" rel="noopener noreferrer"' : ''}>${text}</a>`;
            
            if (isSourceMode) {
                const cursorPos = sourceEditor.selectionStart;
                const textBefore = sourceEditor.value.substring(0, cursorPos);
                const textAfter = sourceEditor.value.substring(cursorPos);
                sourceEditor.value = textBefore + html + textAfter;
                sourceEditor.focus();
                sourceEditor.setSelectionRange(cursorPos + html.length, cursorPos + html.length);
            } else {
                document.execCommand('insertHTML', false, html);
                editorContent.focus();
            }
            
            closeAllModals();
            document.getElementById('linkText').value = '';
            document.getElementById('linkUrl').value = '';
            document.getElementById('linkNewTab').checked = false;
        }

        // 插入图片
        function insertImage() {
            const imageUrl = document.getElementById('imageUrl').value;
            const imageAlt = document.getElementById('imageAlt').value;
            
            if (!imageUrl) {
                alert('请输入图片URL');
                return;
            }
            
            const html = `<img src="${imageUrl}" alt="${imageAlt || ''}" class="max-w-full h-auto rounded-md">`;
            
            if (isSourceMode) {
                const cursorPos = sourceEditor.selectionStart;
                const textBefore = sourceEditor.value.substring(0, cursorPos);
                const textAfter = sourceEditor.value.substring(cursorPos);
                sourceEditor.value = textBefore + html + textAfter;
                sourceEditor.focus();
                sourceEditor.setSelectionRange(cursorPos + html.length, cursorPos + html.length);
            } else {
                document.execCommand('insertHTML', false, html);
                editorContent.focus();
            }
            
            closeAllModals();
            document.getElementById('imageUrl').value = '';
            document.getElementById('imageAlt').value = '';
        }

        // 插入代码
        function insertCode() {
            const codeLanguage = document.getElementById('codeLanguage').value;
            const codeContent = document.getElementById('codeContent').value;
            
            if (!codeContent) {
                alert('请输入代码内容');
                return;
            }
            
            const html = `<pre><code class="language-${codeLanguage}">${escapeHtml(codeContent)}</code></pre>`;
            
            if (isSourceMode) {
                const cursorPos = sourceEditor.selectionStart;
                const textBefore = sourceEditor.value.substring(0, cursorPos);
                const textAfter = sourceEditor.value.substring(cursorPos);
                sourceEditor.value = textBefore + html + textAfter;
                sourceEditor.focus();
                sourceEditor.setSelectionRange(cursorPos + html.length, cursorPos + html.length);
            } else {
                document.execCommand('insertHTML', false, html);
                editorContent.focus();
            }
            
            closeAllModals();
            document.getElementById('codeContent').value = '';
        }

        // 清除格式
        function clearFormat() {
            document.execCommand('removeFormat', false, null);
            document.execCommand('unlink', false, null);
            editorContent.focus();
        }

        // 切换源码模式
        function toggleSourceMode() {
            isSourceMode = !isSourceMode;
            
            if (isSourceMode) {
                // 进入源码模式
                sourceEditor.value = editorContent.innerHTML;
                editorContent.classList.add('hidden');
                sourceEditor.classList.remove('hidden');
                viewSourceBtn.classList.add('active');
                sourceEditor.focus();
            } else {
                // 退出源码模式
                editorContent.innerHTML = sourceEditor.value;
                sourceEditor.classList.add('hidden');
                editorContent.classList.remove('hidden');
                viewSourceBtn.classList.remove('active');
                editorContent.focus();
            }
        }

        // 处理标签输入
        function handleTagInput(e) {
            if (e.key === 'Enter' || e.key === ',') {
                e.preventDefault();
                addTag();
            }
        }

        // 添加标签
        function addTag() {
            const tagText = tagInput.value.trim();
            
            if (!tagText) return;
            
            // 检查标签是否已存在
            const existingTags = getTags();
            if (existingTags.includes(tagText)) {
                tagInput.value = '';
                return;
            }
            
            // 添加标签
            existingTags.push(tagText);
            renderTags(existingTags);
            
            // 清空输入框
            tagInput.value = '';
            tagInput.focus();
        }

        // 获取当前标签
        function getTags() {
            const tags = [];
            document.querySelectorAll('#tagsContainer .tag-item').forEach(tag => {
                if (!tag.id) { // 排除标签输入框容器
                    tags.push(tag.textContent.replace('×', '').trim());
                }
            });
            return tags;
        }

        // 渲染标签
        function renderTags(tags) {
            // 保留标签输入框容器
            const tagInputContainer = document.getElementById('tagInputContainer');
            tagsContainer.innerHTML = '';
            tagsContainer.appendChild(tagInputContainer);
            
            // 添加标签
            tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = 'tag-item tag-item-primary';
                tagElement.innerHTML = `${tag} <button class="ml-1 text-primary hover:text-primary-dark"><i class="fa fa-times-circle"></i></button>`;
                
                // 删除标签
                tagElement.querySelector('button').addEventListener('click', () => {
                    tagElement.remove();
                });
                
                tagsContainer.insertBefore(tagElement, tagInputContainer);
            });
        }

        // 更新字数统计
        function updateWordCount() {
            if (!currentArticle) return;
            
            const title = articleTitle.value || '';
            const content = isSourceMode ? sourceEditor.value : editorContent.innerHTML;
            const count = countWords(title + ' ' + content);
            
            wordCount.textContent = `${count} 字`;
            
            // 如果当前文章已加载，更新其字数
            if (currentArticle) {
                currentArticle.wordCount = count;
            }
        }

        // 统计字数
        function countWords(html) {
            // 移除HTML标签
            const text = html.replace(/<[^>]*>/g, '');
            // 移除多余的空格
            const cleanText = text.replace(/\s+/g, ' ').trim();
            // 统计字数（中文和英文单词都算一个字）
            return cleanText ? cleanText.length : 0;
        }

        // 切换用户菜单
        function toggleUserMenu() {
            userMenu.classList.toggle('hidden');
        }

        // 打开模态框
        function openModal(modal) {
            closeAllModals();
            modal.classList.remove('hidden');
        }

        // 关闭所有模态框
        function closeAllModals() {
            document.querySelectorAll('.modal-backdrop').forEach(modal => {
                modal.classList.add('hidden');
            });
        }

        // 显示提示
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed bottom-4 right-4 bg-gray-800 text-white px-4 py-2 rounded-md shadow-lg';
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.classList.add('opacity-0', 'transition-opacity', 'duration-300');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 2000);
        }

        // 格式化日期
        function formatDate(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // 获取分类名称
        function getCategoryName(category) {
            const categories = {
                'tech': '技术分享',
                'design': '产品设计',
                'news': '行业动态'
            };
            return categories[category] || category;
        }

        // 转义HTML特殊字符
        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        // 初始化应用
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>